'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _Object$assign = require('babel-runtime/core-js/object/assign')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _appiumBaseDriver = require('appium-base-driver');

var commands = {},
    helpers = {},
    extensions = {};

helpers.assertNoAlert = function () {
  if (this.appModel.hasAlert()) {
    throw new _appiumBaseDriver.errors.UnexpectedAlertOpenError();
  }
};

helpers.assertAlert = function () {
  if (!this.appModel.hasAlert()) {
    throw new _appiumBaseDriver.errors.NoAlertOpenError();
  }
};

commands.getAlertText = function callee$0$0() {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        return context$1$0.abrupt('return', this.appModel.alertText());

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.setAlertText = function callee$0$0(text) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        context$1$0.prev = 1;

        this.appModel.setAlertText(text);
        context$1$0.next = 8;
        break;

      case 5:
        context$1$0.prev = 5;
        context$1$0.t0 = context$1$0['catch'](1);
        throw new _appiumBaseDriver.errors.InvalidElementStateError();

      case 8:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this, [[1, 5]]);
};

commands.postAcceptAlert = function callee$0$0() {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.assertAlert();
        this.appModel.handleAlert();

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.postDismissAlert = commands.postAcceptAlert;

_Object$assign(extensions, commands, helpers);
exports.commands = commands;
exports.helpers = helpers;
exports['default'] = extensions;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9hbGVydC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O2dDQUF1QixvQkFBb0I7O0FBRTNDLElBQUksUUFBUSxHQUFHLEVBQUU7SUFBRSxPQUFPLEdBQUcsRUFBRTtJQUFFLFVBQVUsR0FBRyxFQUFFLENBQUM7O0FBRWpELE9BQU8sQ0FBQyxhQUFhLEdBQUcsWUFBWTtBQUNsQyxNQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLEVBQUU7QUFDNUIsVUFBTSxJQUFJLHlCQUFPLHdCQUF3QixFQUFFLENBQUM7R0FDN0M7Q0FDRixDQUFDOztBQUVGLE9BQU8sQ0FBQyxXQUFXLEdBQUcsWUFBWTtBQUNoQyxNQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsRUFBRTtBQUM3QixVQUFNLElBQUkseUJBQU8sZ0JBQWdCLEVBQUUsQ0FBQztHQUNyQztDQUNGLENBQUM7O0FBRUYsUUFBUSxDQUFDLFlBQVksR0FBRzs7OztBQUN0QixZQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7NENBQ1osSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUU7Ozs7Ozs7Q0FDakMsQ0FBQzs7QUFFRixRQUFRLENBQUMsWUFBWSxHQUFHLG9CQUFnQixJQUFJOzs7O0FBQzFDLFlBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQzs7O0FBRWpCLFlBQUksQ0FBQyxRQUFRLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDOzs7Ozs7O2NBRTNCLElBQUkseUJBQU8sd0JBQXdCLEVBQUU7Ozs7Ozs7Q0FFOUMsQ0FBQzs7QUFFRixRQUFRLENBQUMsZUFBZSxHQUFHOzs7O0FBQ3pCLFlBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNuQixZQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDOzs7Ozs7O0NBQzdCLENBQUM7O0FBRUYsUUFBUSxDQUFDLGdCQUFnQixHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUM7O0FBRXJELGVBQWMsVUFBVSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxRQUFRLEdBQVIsUUFBUTtRQUFFLE9BQU8sR0FBUCxPQUFPO3FCQUNYLFVBQVUiLCJmaWxlIjoibGliL2NvbW1hbmRzL2FsZXJ0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXJyb3JzIH0gZnJvbSAnYXBwaXVtLWJhc2UtZHJpdmVyJztcblxubGV0IGNvbW1hbmRzID0ge30sIGhlbHBlcnMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG5oZWxwZXJzLmFzc2VydE5vQWxlcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmFwcE1vZGVsLmhhc0FsZXJ0KCkpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLlVuZXhwZWN0ZWRBbGVydE9wZW5FcnJvcigpO1xuICB9XG59O1xuXG5oZWxwZXJzLmFzc2VydEFsZXJ0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuYXBwTW9kZWwuaGFzQWxlcnQoKSkge1xuICAgIHRocm93IG5ldyBlcnJvcnMuTm9BbGVydE9wZW5FcnJvcigpO1xuICB9XG59O1xuXG5jb21tYW5kcy5nZXRBbGVydFRleHQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYXNzZXJ0QWxlcnQoKTtcbiAgcmV0dXJuIHRoaXMuYXBwTW9kZWwuYWxlcnRUZXh0KCk7XG59O1xuXG5jb21tYW5kcy5zZXRBbGVydFRleHQgPSBhc3luYyBmdW5jdGlvbiAodGV4dCkge1xuICB0aGlzLmFzc2VydEFsZXJ0KCk7XG4gIHRyeSB7XG4gICAgdGhpcy5hcHBNb2RlbC5zZXRBbGVydFRleHQodGV4dCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLkludmFsaWRFbGVtZW50U3RhdGVFcnJvcigpO1xuICB9XG59O1xuXG5jb21tYW5kcy5wb3N0QWNjZXB0QWxlcnQgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuYXNzZXJ0QWxlcnQoKTtcbiAgdGhpcy5hcHBNb2RlbC5oYW5kbGVBbGVydCgpO1xufTtcblxuY29tbWFuZHMucG9zdERpc21pc3NBbGVydCA9IGNvbW1hbmRzLnBvc3RBY2NlcHRBbGVydDtcblxuT2JqZWN0LmFzc2lnbihleHRlbnNpb25zLCBjb21tYW5kcywgaGVscGVycyk7XG5leHBvcnQgeyBjb21tYW5kcywgaGVscGVycyB9O1xuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
