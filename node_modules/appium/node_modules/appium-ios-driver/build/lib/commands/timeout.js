'use strict';

var _regeneratorRuntime = require('babel-runtime/regenerator')['default'];

var _Object$assign = require('babel-runtime/core-js/object/assign')['default'];

var _interopRequireDefault = require('babel-runtime/helpers/interop-require-default')['default'];

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _logger = require('../logger');

var _logger2 = _interopRequireDefault(_logger);

var commands = {},
    helpers = {},
    extensions = {};

// pageLoad
commands.pageLoadTimeoutW3C = function callee$0$0(ms) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        context$1$0.next = 2;
        return _regeneratorRuntime.awrap(this.setPageLoadTimeout(this.parseTimeoutArgument(ms)));

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.pageLoadTimeoutMJSONWP = function callee$0$0(ms) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        context$1$0.next = 2;
        return _regeneratorRuntime.awrap(this.setPageLoadTimeout(this.parseTimeoutArgument(ms)));

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

// script
commands.scriptTimeoutW3C = function callee$0$0(ms) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        context$1$0.next = 2;
        return _regeneratorRuntime.awrap(this.asyncScriptTimeout(ms));

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.scriptTimeoutMJSONWP = function callee$0$0(ms) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        context$1$0.next = 2;
        return _regeneratorRuntime.awrap(this.asyncScriptTimeout(ms));

      case 2:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

commands.asyncScriptTimeout = function callee$0$0(ms) {
  return _regeneratorRuntime.async(function callee$0$0$(context$1$0) {
    while (1) switch (context$1$0.prev = context$1$0.next) {
      case 0:
        this.setAsyncScriptTimeout(this.parseTimeoutArgument(ms));

      case 1:
      case 'end':
        return context$1$0.stop();
    }
  }, null, this);
};

helpers.setPageLoadTimeout = function (ms) {
  ms = parseInt(ms, 10);
  this.pageLoadMs = ms;
  if (this.remote) {
    this.remote.pageLoadMs = this.pageLoadMs;
  }
  _logger2['default'].debug('Set page load timeout to ' + ms + 'ms');
};

helpers.setAsyncScriptTimeout = function (ms) {
  this.asyncWaitMs = ms;
  _logger2['default'].debug('Set async script timeout to ' + ms + 'ms');
};

_Object$assign(extensions, commands, helpers);
exports.commands = commands;
exports.helpers = helpers;
exports['default'] = extensions;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy90aW1lb3V0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztzQkFBbUIsV0FBVzs7OztBQUU5QixJQUFJLFFBQVEsR0FBRyxFQUFFO0lBQUUsT0FBTyxHQUFHLEVBQUU7SUFBRSxVQUFVLEdBQUcsRUFBRSxDQUFDOzs7QUFHakQsUUFBUSxDQUFDLGtCQUFrQixHQUFHLG9CQUFnQixFQUFFOzs7Ozt5Q0FDeEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7Ozs7OztDQUM3RCxDQUFDOztBQUVGLFFBQVEsQ0FBQyxzQkFBc0IsR0FBRyxvQkFBZ0IsRUFBRTs7Ozs7eUNBQzVDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUM7Ozs7Ozs7Q0FDN0QsQ0FBQzs7O0FBR0YsUUFBUSxDQUFDLGdCQUFnQixHQUFHLG9CQUFnQixFQUFFOzs7Ozt5Q0FDdEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLEVBQUUsQ0FBQzs7Ozs7OztDQUNsQyxDQUFDOztBQUVGLFFBQVEsQ0FBQyxvQkFBb0IsR0FBRyxvQkFBZ0IsRUFBRTs7Ozs7eUNBQzFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLENBQUM7Ozs7Ozs7Q0FDbEMsQ0FBQzs7QUFFRixRQUFRLENBQUMsa0JBQWtCLEdBQUcsb0JBQWdCLEVBQUU7Ozs7QUFDOUMsWUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOzs7Ozs7O0NBQzNELENBQUM7O0FBRUYsT0FBTyxDQUFDLGtCQUFrQixHQUFHLFVBQVUsRUFBRSxFQUFFO0FBQ3pDLElBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3RCLE1BQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLE1BQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNmLFFBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7R0FDMUM7QUFDRCxzQkFBTyxLQUFLLCtCQUE2QixFQUFFLFFBQUssQ0FBQztDQUNsRCxDQUFDOztBQUVGLE9BQU8sQ0FBQyxxQkFBcUIsR0FBRyxVQUFVLEVBQUUsRUFBRTtBQUM1QyxNQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUN0QixzQkFBTyxLQUFLLGtDQUFnQyxFQUFFLFFBQUssQ0FBQztDQUNyRCxDQUFDOztBQUVGLGVBQWMsVUFBVSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNwQyxRQUFRLEdBQVIsUUFBUTtRQUFFLE9BQU8sR0FBUCxPQUFPO3FCQUNYLFVBQVUiLCJmaWxlIjoibGliL2NvbW1hbmRzL3RpbWVvdXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nZ2VyIGZyb20gJy4uL2xvZ2dlcic7XG5cbmxldCBjb21tYW5kcyA9IHt9LCBoZWxwZXJzID0ge30sIGV4dGVuc2lvbnMgPSB7fTtcblxuLy8gcGFnZUxvYWRcbmNvbW1hbmRzLnBhZ2VMb2FkVGltZW91dFczQyA9IGFzeW5jIGZ1bmN0aW9uIChtcykge1xuICBhd2FpdCB0aGlzLnNldFBhZ2VMb2FkVGltZW91dCh0aGlzLnBhcnNlVGltZW91dEFyZ3VtZW50KG1zKSk7XG59O1xuXG5jb21tYW5kcy5wYWdlTG9hZFRpbWVvdXRNSlNPTldQID0gYXN5bmMgZnVuY3Rpb24gKG1zKSB7XG4gIGF3YWl0IHRoaXMuc2V0UGFnZUxvYWRUaW1lb3V0KHRoaXMucGFyc2VUaW1lb3V0QXJndW1lbnQobXMpKTtcbn07XG5cbi8vIHNjcmlwdFxuY29tbWFuZHMuc2NyaXB0VGltZW91dFczQyA9IGFzeW5jIGZ1bmN0aW9uIChtcykge1xuICBhd2FpdCB0aGlzLmFzeW5jU2NyaXB0VGltZW91dChtcyk7XG59O1xuXG5jb21tYW5kcy5zY3JpcHRUaW1lb3V0TUpTT05XUCA9IGFzeW5jIGZ1bmN0aW9uIChtcykge1xuICBhd2FpdCB0aGlzLmFzeW5jU2NyaXB0VGltZW91dChtcyk7XG59O1xuXG5jb21tYW5kcy5hc3luY1NjcmlwdFRpbWVvdXQgPSBhc3luYyBmdW5jdGlvbiAobXMpIHtcbiAgdGhpcy5zZXRBc3luY1NjcmlwdFRpbWVvdXQodGhpcy5wYXJzZVRpbWVvdXRBcmd1bWVudChtcykpO1xufTtcblxuaGVscGVycy5zZXRQYWdlTG9hZFRpbWVvdXQgPSBmdW5jdGlvbiAobXMpIHtcbiAgbXMgPSBwYXJzZUludChtcywgMTApO1xuICB0aGlzLnBhZ2VMb2FkTXMgPSBtcztcbiAgaWYgKHRoaXMucmVtb3RlKSB7XG4gICAgdGhpcy5yZW1vdGUucGFnZUxvYWRNcyA9IHRoaXMucGFnZUxvYWRNcztcbiAgfVxuICBsb2dnZXIuZGVidWcoYFNldCBwYWdlIGxvYWQgdGltZW91dCB0byAke21zfW1zYCk7XG59O1xuXG5oZWxwZXJzLnNldEFzeW5jU2NyaXB0VGltZW91dCA9IGZ1bmN0aW9uIChtcykge1xuICB0aGlzLmFzeW5jV2FpdE1zID0gbXM7XG4gIGxvZ2dlci5kZWJ1ZyhgU2V0IGFzeW5jIHNjcmlwdCB0aW1lb3V0IHRvICR7bXN9bXNgKTtcbn07XG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgY29tbWFuZHMsIGhlbHBlcnMpO1xuZXhwb3J0IHsgY29tbWFuZHMsIGhlbHBlcnMgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXSwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
